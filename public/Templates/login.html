<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Login</title>
    <link rel="stylesheet" href="/public/static/Styles.css" />
  </head>
  <body>
    <section class="page">
      <h1>Budget Tracker</h1>

      <form action="" id="login" name="login ">
        <input type="email" id="email" placeholder="Email" />
        <input type="password" id="password" placeholder="Password" />
        <button type="submit" name="login-btn">Login</button>
      </form>
      <a id="create-link" href="#">Create Account</a>
      <a id="forgot-link" href="#">Forgot Password?</a>
    </section>

    <script>
      const form = document.querySelector("form");

      document.addEventListener("submit", (event) => {
        event.preventDefault();
        const formData = new FormData(form); // creating a new form data object to that stores the data(entries) of the form
        const data = Object.fromEntries(formData); //converting the data received from the form from a list of key value pairs into objects

        const loginInfo = JSON.stringify(data);

        fetch("/api/login", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: loginInfo,
        });
      });
    </script>
  </body>
</html>
